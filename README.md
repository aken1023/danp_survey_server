# Fuzzy DANP å°ˆå®¶å•å·ç³»çµ±

è²¡å ±èˆå¼Šé¢¨éšªæŒ‡æ¨™å°ˆå®¶å•å· - å®Œæ•´ Fuzzy DANP æ–¹æ³•

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
fuzzy-danp-survey/
â”œâ”€â”€ server.js          # å¾Œç«¯ä¼ºæœå™¨
â”œâ”€â”€ package.json       # å¥—ä»¶è¨­å®š
â”œâ”€â”€ data/
â”‚   â””â”€â”€ survey.db      # SQLite è³‡æ–™åº«ï¼ˆè‡ªå‹•å»ºç«‹ï¼‰
â””â”€â”€ public/
    â”œâ”€â”€ survey.html    # å°ˆå®¶å•å·é é¢
    â””â”€â”€ admin.html     # ç®¡ç†å¾Œå°
```

## ğŸš€ å®‰è£èˆ‡å•Ÿå‹•

### 1. å®‰è£ Node.js
ç¢ºä¿ä½ çš„ä¼ºæœå™¨å·²å®‰è£ Node.js 18+

### 2. å®‰è£å¥—ä»¶
```bash
cd fuzzy-danp-survey
npm install
```

### 3. å•Ÿå‹•ä¼ºæœå™¨
```bash
npm start
```

### 4. å­˜å–ç¶²å€
- **å•å·ç¶²å€**ï¼š`http://ä½ çš„ä¼ºæœå™¨IP:3000`
- **ç®¡ç†å¾Œå°**ï¼š`http://ä½ çš„ä¼ºæœå™¨IP:3000/admin`

## ğŸ“Š åŠŸèƒ½èªªæ˜

### å°ˆå®¶å•å·ï¼ˆsurvey.htmlï¼‰
- å®Œæ•´ Fuzzy DANP æ–¹æ³•ï¼ˆ186 é¡Œï¼‰
- DEMATEL å½±éŸ¿é—œä¿‚è©•ä¼°ï¼ˆ132 é¡Œï¼‰
- ANP æ§‹é¢æ¯”è¼ƒï¼ˆ6 é¡Œï¼‰
- ANP æŒ‡æ¨™æ¯”è¼ƒå«ç›¸ä¾æ€§ï¼ˆ48 é¡Œï¼‰
- è‡ªå‹•å„²å­˜åŠŸèƒ½
- æ”¯æ´é›»è…¦ã€å¹³æ¿ã€æ‰‹æ©Ÿ
- å¡«å®Œè‡ªå‹•ä¸Šå‚³

### ç®¡ç†å¾Œå°ï¼ˆadmin.htmlï¼‰
- å³æ™‚æŸ¥çœ‹æ‰€æœ‰å¡«ç­”ç‹€æ…‹
- æª¢è¦–å–®ä¸€å°ˆå®¶çš„å®Œæ•´å›ç­”
- åŒ¯å‡ºåŠŸèƒ½ï¼š
  - å®Œæ•´ JSONï¼ˆæ‰€æœ‰è³‡æ–™ï¼‰
  - DEMATEL CSVï¼ˆå½±éŸ¿é—œä¿‚çŸ©é™£ï¼‰
  - ANP CSVï¼ˆæˆå°æ¯”è¼ƒçµæœï¼‰
- åˆªé™¤å•å·åŠŸèƒ½
- æ¯ 30 ç§’è‡ªå‹•åˆ·æ–°

## ğŸ“¥ è³‡æ–™åŒ¯å‡ºæ ¼å¼

### å®Œæ•´ JSON
åŒ…å«æ‰€æœ‰å°ˆå®¶çš„å®Œæ•´è³‡æ–™ï¼Œçµæ§‹å¦‚ä¸‹ï¼š
```json
[
  {
    "surveyId": "uuid",
    "respondent": { "name": "", "organization": "", ... },
    "dematel": { "A1": { "A2": 3, "A3": 2, ... }, ... },
    "anpDimension": [5, 5, 5, 5, 5, 5],
    "anpCriteria": { "A_A": [5,5,5], "A_B": [5,5,5], ... }
  }
]
```

### DEMATEL CSV
```
Respondent,SurveyID,From,To,Value
å°ˆå®¶A,abc123,A1,A2,3
å°ˆå®¶A,abc123,A1,A3,2
...
```

### ANP CSV
```
Respondent,SurveyID,Type,Context,Left,Right,Value
å°ˆå®¶A,abc123,Dimension,-,A,B,5
å°ˆå®¶A,abc123,Criteria,A_B,B1,B2,7
...
```

## ğŸ”¢ Fuzzy ä¸‰è§’æ¨¡ç³Šæ•¸å°ç…§è¡¨

### DEMATELï¼ˆå½±éŸ¿ç¨‹åº¦ï¼‰
| å€¼ | èªæ„ | ä¸‰è§’æ¨¡ç³Šæ•¸ (L, M, U) |
|----|------|---------------------|
| 0 | ç„¡å½±éŸ¿ | (0, 0, 0.25) |
| 1 | ä½åº¦å½±éŸ¿ | (0, 0.25, 0.5) |
| 2 | ä¸­åº¦å½±éŸ¿ | (0.25, 0.5, 0.75) |
| 3 | é«˜åº¦å½±éŸ¿ | (0.5, 0.75, 1) |
| 4 | æ¥µé«˜å½±éŸ¿ | (0.75, 1, 1) |

### ANPï¼ˆé‡è¦æ€§æ¯”è¼ƒï¼‰
| å€¼ | æ„ç¾© |
|----|------|
| 1 | å·¦æ–¹æ¥µç«¯é‡è¦ï¼ˆ9 å€ï¼‰ |
| 2 | å·¦æ–¹éå¸¸é‡è¦ï¼ˆ7 å€ï¼‰ |
| 3 | å·¦æ–¹æ˜é¡¯é‡è¦ï¼ˆ5 å€ï¼‰ |
| 4 | å·¦æ–¹ç¨å¾®é‡è¦ï¼ˆ3 å€ï¼‰ |
| 5 | åŒç­‰é‡è¦ï¼ˆ1:1ï¼‰ |
| 6 | å³æ–¹ç¨å¾®é‡è¦ï¼ˆ3 å€ï¼‰ |
| 7 | å³æ–¹æ˜é¡¯é‡è¦ï¼ˆ5 å€ï¼‰ |
| 8 | å³æ–¹éå¸¸é‡è¦ï¼ˆ7 å€ï¼‰ |
| 9 | å³æ–¹æ¥µç«¯é‡è¦ï¼ˆ9 å€ï¼‰ |

## âš™ï¸ é€²éšè¨­å®š

### ä¿®æ”¹é€£æ¥åŸ 
ç·¨è¼¯ `server.js`ï¼Œä¿®æ”¹ PORTï¼š
```javascript
const PORT = process.env.PORT || 3000;
```

æˆ–ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ï¼š
```bash
PORT=8080 npm start
```

### ä½¿ç”¨ PM2 ä¿æŒé‹è¡Œ
```bash
npm install -g pm2
pm2 start server.js --name "danp-survey"
pm2 save
pm2 startup
```

### åå‘ä»£ç†ï¼ˆNginxï¼‰
```nginx
server {
    listen 80;
    server_name survey.yourdomain.com;
    
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

## ğŸ”’ å®‰å…¨å»ºè­°

1. **ç®¡ç†å¾Œå°ä¿è­·**ï¼šå»ºè­°åŠ ä¸Šå¸³è™Ÿå¯†ç¢¼é©—è­‰æˆ–é™åˆ¶ IP
2. **HTTPS**ï¼šæ­£å¼ä¸Šç·šè«‹ä½¿ç”¨ HTTPS
3. **å‚™ä»½è³‡æ–™åº«**ï¼šå®šæœŸå‚™ä»½ `data/survey.db`

## ğŸ“ å•é¡Œæ’è§£

### è³‡æ–™åº«éŒ¯èª¤
```bash
# åˆªé™¤è³‡æ–™åº«é‡å»º
rm data/survey.db
npm start
```

### å¥—ä»¶å®‰è£å¤±æ•—
```bash
# æ¸…é™¤ä¸¦é‡æ–°å®‰è£
rm -rf node_modules
npm install
```

---

æœ‰å•é¡Œè«‹è¯ç¹«ç ”ç©¶åœ˜éšŠã€‚
